## â˜ï¸ OpÃ§Ãµes de ComputaÃ§Ã£o na AWS

### ğŸš€ Principais Modelos

A AWS oferece trÃªs opÃ§Ãµes principais de computaÃ§Ã£o na nuvem, cada uma com caracterÃ­sticas especÃ­ficas:

---

### ğŸ–¥ï¸ EC2 â€“ Elastic Compute Cloud (MÃ¡quinas Virtuais)

- **Tipo:** Infraestrutura como ServiÃ§o (IaaS)
- **DescriÃ§Ã£o:** InstÃ¢ncias de mÃ¡quinas virtuais na nuvem, com controle total sobre sistema operacional, rede e armazenamento.
- **Quando usar:**
  - AplicaÃ§Ãµes monolÃ­ticas
  - DependÃªncia forte de SO
  - Armazenamento local
  - Controle completo da infraestrutura
- **Escalabilidade:** Por meio de Auto Scaling Groups
- **SLA:** 99,99%
- **Tempo de execuÃ§Ã£o:** Sem limite
- **Modelo de cobranÃ§a:** Tipo da instÃ¢ncia, tempo de execuÃ§Ã£o e opÃ§Ã£o de compra (On-demand, Reserved, Spot)

---

### ğŸ“¦ ECS/EKS â€“ Containers

- **Tipo:** Container como ServiÃ§o (CaaS)
- **DescriÃ§Ã£o:** ExecuÃ§Ã£o de containers Docker ou Kubernetes.
  - **ECS:** Elastic Container Service (gerenciado pela AWS)
  - **EKS:** Elastic Kubernetes Service (Kubernetes gerenciado)
- **Quando usar:**
  - Arquitetura baseada em microsserviÃ§os
  - Necessidade de portabilidade e agilidade
  - Uso de Docker ou Kubernetes
- **Escalabilidade:** Nativa, baseada nas mÃ©tricas do cluster
- **SLA:** 99,99%
- **Tempo de execuÃ§Ã£o:** Sem limite
- **Modelo de cobranÃ§a:**
  - **ECS no EC2:** Mesmo custo do EC2
  - **ECS no Fargate:** Por vCPU, memÃ³ria usada e tempo de execuÃ§Ã£o

---

### âš¡ Lambda â€“ Serverless

- **Tipo:** FunÃ§Ã£o como ServiÃ§o (FaaS)
- **DescriÃ§Ã£o:** Executa funÃ§Ãµes sem precisar provisionar servidores.
- **Quando usar:**
  - AplicaÃ§Ãµes pequenas ou baseadas em eventos
  - Processos rÃ¡pidos (atÃ© 15 minutos)
  - Sem necessidade de armazenamento local
  - Times com foco em desenvolvimento, nÃ£o em infraestrutura
- **Escalabilidade:** Totalmente automÃ¡tica
- **SLA:** 99,95%
- **Tempo de execuÃ§Ã£o:** MÃ¡ximo de 15 minutos (300 segundos)
- **Modelo de cobranÃ§a:**
  - Por nÃºmero de requisiÃ§Ãµes
  - Tempo de execuÃ§Ã£o (vCPU + memÃ³ria)

---

### ğŸ” Comparativo RÃ¡pido

| ServiÃ§o | Tipo              | Caso de uso                                   | SLA    | Tempo ExecuÃ§Ã£o | Escalabilidade      | PreÃ§o                                 |
| ------- | ----------------- | --------------------------------------------- | ------ | -------------- | ------------------- | ------------------------------------- |
| EC2     | IaaS              | Controle total sobre servidor                 | 99.99% | Sem limite     | Auto Scaling Groups | Tipo, tempo e opÃ§Ã£o de compra         |
| ECS/EKS | CaaS (Containers) | MicrosserviÃ§os e containers Docker/Kubernetes | 99.99% | Sem limite     | Nativa por cluster  | EC2 ou Fargate (CPU, memÃ³ria, tempo)  |
| Lambda  | FaaS (Serverless) | FunÃ§Ãµes rÃ¡pidas e sem infra gerenciada        | 99.95% | 15 min mÃ¡x     | AutomÃ¡tica          | Por execuÃ§Ã£o e tempo (vCPU + memÃ³ria) |

---

### ğŸ¯ Como escolher?

- **EC2:**

  - Precisa de controle total sobre o servidor e ambiente.
  - Uso similar ao datacenter tradicional.

- **ECS/EKS:**

  - Times que trabalham com containers e microsserviÃ§os.
  - Querem portabilidade e gestÃ£o simplificada de ambientes.

- **Lambda:**
  - Foco total no cÃ³digo, sem preocupaÃ§Ã£o com servidores.
  - Para automaÃ§Ãµes, APIs pequenas, processamentos sob demanda.

---

### âœ… Resumo Visual

- **EC2:** ComputaÃ§Ã£o tradicional com mÃ¡quinas virtuais (IaaS).
- **ECS/EKS:** ExecuÃ§Ã£o e orquestraÃ§Ã£o de containers (CaaS).
- **Lambda:** FunÃ§Ãµes executadas sob demanda, sem servidor (FaaS).

---

### ğŸ”— ReferÃªncia

- **Autor:** Gustavo Ribeiro

## â˜ï¸ ComputaÃ§Ã£o na AWS - Amazon EC2

### ğŸš€ O que Ã© Amazon EC2?

- ServiÃ§o que oferece capacidade computacional em formato de mÃ¡quinas virtuais (instÃ¢ncias).
- Totalmente escalÃ¡vel e sob demanda.
- Permite iniciar, utilizar e desligar servidores em minutos.
- Custo somente pelo tempo de uso, eliminando necessidade de infraestrutura fÃ­sica.

---

### ğŸ¢ Comparativo On-premise x AWS EC2

| On-premise               | AWS EC2                          |
| ------------------------ | -------------------------------- |
| Comprar hardware         | Escolher configuraÃ§Ã£o online     |
| Esperar entrega          | Instanciar na hora               |
| Montar no datacenter     | Configurar em poucos cliques     |
| Instalar SO manual       | Usar AMI prÃ©-configurada         |
| Baixar e configurar apps | Pode vir com apps prÃ©-instalados |

---

### ğŸ“¦ Amazon Machine Image (AMI)

- Imagens prontas de sistema operacional e aplicativos.
- Fornecidas pela AWS, parceiros ou comunidade (Marketplace).
- Possuem um **ID Ãºnico (AMI ID)** por regiÃ£o.
- VocÃª pode:
  - **Usar uma AMI padrÃ£o**
  - **Criar sua prÃ³pria AMI personalizada** (ex.: Ubuntu + Apache configurado).
- **Cuidado:** snapshots associados Ã  AMI geram custos.

---

### ğŸ’¡ Boas PrÃ¡ticas com AMIs

- Use AMIs da seÃ§Ã£o **"Quick Start"** para seguranÃ§a e integridade.
- Crie AMIs prÃ³prias apÃ³s configurar sua instÃ¢ncia.
- Desligue a instÃ¢ncia antes de gerar a AMI (evita inconsistÃªncias).

---

### ğŸ–¥ï¸ Tipos de InstÃ¢ncias EC2

- Definidos por:
  - Quantidade de vCPU
  - MemÃ³ria RAM
  - Tipo de processador (Intel, AMD ou Graviton - ARM)
  - Rede e, Ã s vezes, GPU
- **Nomenclatura:**
  - Ex.: `t4g.small` (T = tipo, 4g = geraÃ§Ã£o Graviton, small = tamanho)
  - Ex.: `m5.large` (M = uso geral, 5 = geraÃ§Ã£o, large = tamanho)

| FamÃ­lia   | Uso Ideal                         |
| --------- | --------------------------------- |
| **T**     | Uso geral, burstÃ¡vel, baixo custo |
| **M**     | Uso geral balanceado              |
| **C**     | Otimizado para computaÃ§Ã£o (CPU)   |
| **R**     | Otimizado para memÃ³ria            |
| **P/G**   | Processamento grÃ¡fico (GPU)       |
| **I/D/H** | Otimizado para armazenamento      |

---

### ğŸ” Par de Chaves (Key Pair)

- Serve para acesso seguro (SSH em Linux, descriptografar senha no Windows).
- Consiste em:
  - **Chave pÃºblica:** fica na AWS.
  - **Chave privada:** fica com o usuÃ¡rio (âš ï¸ guarde com seguranÃ§a).
- Sem a chave privada, nÃ£o Ã© possÃ­vel acessar a instÃ¢ncia.

---

### ğŸŒ Rede e SeguranÃ§a (VPC + Security Group)

- **VPC:** Nuvem privada virtual.
- **Subnets:** DivisÃ£o da rede.
- **IP pÃºblico:** Opcional. Para IP fixo, use **Elastic IP**.
- **Security Group:** Firewall que controla portas abertas (ex.: 22 para SSH, 80/443 para web).

---

### ğŸ’¾ Disco (EBS)

- Tipos de disco:
  - **gp2/gp3:** SSD padrÃ£o.
  - **io1/io2:** SSD com IOPS provisionado (alta performance).
  - **st1:** HDD otimizado para throughput.
  - **sc1:** HDD para dados frios.
- Durante a criaÃ§Ã£o:
  - Disco raiz (mÃ­nimo da AMI).
  - Pode adicionar volumes extras.

---

### ğŸ“ Scripts de Boot (User Data)

- No painel **"Detalhes AvanÃ§ados"**, vocÃª pode inserir scripts shell que rodam na inicializaÃ§Ã£o da instÃ¢ncia.
- Usado para:
  - Instalar software.
  - Configurar automaticamente.
  - Automatizar provisionamento.

```bash
#!/bin/bash
apt update
apt install -y apache2
systemctl start apache2
systemctl enable apache2
```

---

### âš™ï¸ BenefÃ­cios do Amazon EC2

- Flexibilidade total (SO, apps, rede).
- Paga apenas pelo que usar.
- CriaÃ§Ã£o rÃ¡pida (em minutos).
- EscalÃ¡vel, com suporte a auto scaling e balanceamento de carga.

---

### ğŸ“Œ Resumo Visual do Provisionamento no EC2

1. Escolher AMI (SO + Apps)
2. Selecionar tipo de instÃ¢ncia
3. Configurar VPC, subnet e IP
4. Criar/selecionar par de chaves
5. Configurar Security Group (firewall)
6. Definir armazenamento (EBS)
7. (Opcional) Inserir script de boot (user data)
8. Revisar e lanÃ§ar a instÃ¢ncia ğŸš€

---

### ğŸ”— ReferÃªncia

- **Fonte:** AWS, Gustavo Ribeiro

## ğŸ’½ Block Storage â€“ Amazon EBS (Elastic Block Store)

### ğŸ” O que Ã©?

- ServiÃ§o de **armazenamento em blocos** para instÃ¢ncias EC2.
- Funciona como um **HD externo virtual**.
- Dados persistem mesmo apÃ³s desligar ou excluir a instÃ¢ncia.
- Pode ser **anexado, desanexado e reanexado** a qualquer EC2 na mesma zona de disponibilidade.

---

### ğŸ”„ Funcionalidade Principal

- Volume de EBS = Disco virtual.
- Relacionamento normalmente **um volume â†”ï¸ uma instÃ¢ncia EC2**.
- ğŸš€ **Multi-Attach:** permite anexar o mesmo volume a mÃºltiplas instÃ¢ncias EC2 (mesma zona) â€” âš ï¸ _limitado a alguns tipos_.

---

### ğŸ’¡ Analogia

> "Assim como um HD externo pode ser desconectado de um computador e conectado a outro, o EBS permite desconectar volumes de uma instÃ¢ncia EC2 e conectar em outra (na mesma zona)."

---

### ğŸ” Snapshots (Backups)

- **Backups incrementais**.
- Armazenados no **Amazon S3** (nÃ£o precisa acessar diretamente o S3).
- Primeiro snapshot: cÃ³pia completa.
- Seguintes: apenas blocos alterados.

ğŸ“ **Exemplo:**  
Se um volume tem 10GB e vocÃª alterou 2GB â†’ apenas os 2GB sÃ£o armazenados no novo snapshot.

- Snapshots podem:
  - ğŸ“¦ **Gerar novos volumes**, inclusive em outras zonas.
  - ğŸ› ï¸ **Restaurar backups** rapidamente.

---

### ğŸ“¦ Casos de Uso

- Disco raiz para **sistema operacional** (AMI com suporte EBS).
- **Armazenamento para bancos de dados** (MySQL, PostgreSQL, MongoDB, etc.).
- AplicaÃ§Ãµes empresariais crÃ­ticas com leitura/gravaÃ§Ã£o intensa.
- Workloads que demandam **baixa latÃªncia e alta durabilidade**.

---

## ğŸ”§ Tipos de Volumes EBS

| Tipo        | DescriÃ§Ã£o                     | Casos de Uso                                | Tamanho      | IOPS MÃ¡x  | Throughput MÃ¡x    |
| ----------- | ----------------------------- | ------------------------------------------- | ------------ | --------- | ----------------- |
| **io1/io2** | SSD de alta performance       | Bancos SQL/NoSQL, apps sensÃ­veis Ã  latÃªncia | 4GB â€“ 16TB   | ğŸ”¥ 64.000 | ğŸš€ 1.000 MB/s     |
| **gp2/gp3** | SSD uso geral                 | Volumes de boot, apps web, dev/teste        | 1GB â€“ 16TB   | ğŸŸ¦ 16.000 | ğŸ”· 250 MB/s (gp2) |
| **st1**     | HDD otimizado para throughput | Big Data, Data Lakes, logs                  | 500GB â€“ 16TB | âšª 500    | ğŸ“ˆ 500 MB/s       |
| **sc1**     | HDD de baixo custo            | Arquivos frios, backups, pouco acesso       | 500GB â€“ 16TB | âš« 250    | ğŸ“‰ 250 MB/s       |

---

### âš™ï¸ Escolha Ideal

- ğŸ”¥ **io1/io2:** Apps crÃ­ticos, bancos transacionais, altÃ­ssima performance.
- ğŸŸ¨ **gp3 (melhor que gp2):** EquilÃ­brio custo/performance, recomendaÃ§Ã£o padrÃ£o.
- ğŸŸ¦ **st1:** Processamento de logs, anÃ¡lises grandes, data lakes.
- âš« **sc1:** Dados raramente acessados, arquivos arquivados.

---

### ğŸ“Œ ObservaÃ§Ãµes Importantes

- Snapshots sÃ£o cobrados pelo tamanho utilizado.
- Ã‰ possÃ­vel criar volumes em outras zonas a partir de snapshots.
- **Cuidado com escolha da zona de disponibilidade**, volume EBS Ã© restrito a uma zona.

---

### ğŸš€ Fluxo Simplificado de Uso do EBS

1. ğŸ“¦ Criar volume EBS (definir tipo, tamanho, AZ).
2. ğŸ”— Anexar Ã  instÃ¢ncia EC2.
3. âš™ï¸ Inicializar, formatar e montar no sistema operacional.
4. ğŸ”„ Usar como disco normal.
5. ğŸ—ï¸ Fazer backup via snapshots sempre que necessÃ¡rio.
6. ğŸ”Œ Desanexar e reanexar quando quiser (na mesma AZ).

---

### ğŸ”— ReferÃªncia

- **Fonte:** AWS, Gustavo Ribeiro

## ğŸ—‚ï¸ File Storage â€“ Amazon EFS

### ğŸ” O que Ã©?

- ServiÃ§o de **armazenamento de arquivos** na AWS.
- Permite que **vÃ¡rios clientes/acessos simultÃ¢neos** (usuÃ¡rios, aplicativos, servidores) leiam e escrevam nos mesmos dados.
- Sistema de arquivos **totalmente gerenciado, elÃ¡stico e escalÃ¡vel**.

---

### ğŸ”— CaracterÃ­sticas principais

- ğŸ”¸ Escala automÃ¡tica de armazenamento: **cresce ou diminui** conforme necessidade (atÃ© petabytes).
- ğŸ”¸ CompatÃ­vel com **NFS (Network File System)**.
- ğŸ”¸ Permite acesso simultÃ¢neo de **centenas ou milhares de instÃ¢ncias EC2** e tambÃ©m de recursos locais via AWS Direct Connect ou VPN.
- ğŸ”¸ Baixa latÃªncia e alta disponibilidade.
- ğŸ”¸ Armazenamento distribuÃ­do, redundante e altamente durÃ¡vel.

---

### ğŸ—ï¸ Arquitetura

- Funciona como um **servidor de arquivos na nuvem**.
- Organiza os dados em **diretÃ³rios e arquivos**, com caminho hierÃ¡rquico.
- Usa internamente armazenamento em bloco, mas exposto para os clientes como sistema de arquivos.

---

### ğŸ’¡ Casos de uso

- ğŸš€ AplicaÃ§Ãµes que precisam de compartilhamento de arquivos:
  - Sites e aplicaÃ§Ãµes web.
  - Sistemas de gerenciamento de conteÃºdo.
  - DiretÃ³rios de usuÃ¡rios.
  - Workloads de machine learning e anÃ¡lise de dados.
  - Ambientes de desenvolvimento e teste.
  - MigraÃ§Ã£o de aplicaÃ§Ãµes legadas para a nuvem.

---

### ğŸ“ˆ Vantagens do Amazon EFS

- âœ… Escalabilidade automÃ¡tica (aumenta ou diminui sem intervenÃ§Ã£o).
- âœ… Alta disponibilidade e durabilidade.
- âœ… Compartilhamento de dados entre vÃ¡rias instÃ¢ncias e atÃ© ambientes locais.
- âœ… Totalmente gerenciado (nÃ£o precisa configurar servidores de arquivos).
- âœ… IntegraÃ§Ã£o com serviÃ§os AWS como EC2, Lambda e EKS.

---

### ğŸ”¥ ComparaÃ§Ã£o com outros tipos de armazenamento

| Tipo            | DescriÃ§Ã£o                                                            | Casos de uso                                                          |
| --------------- | -------------------------------------------------------------------- | --------------------------------------------------------------------- |
| **EBS (Block)** | Armazenamento em blocos. Atachado a **uma Ãºnica instÃ¢ncia** por vez. | Bancos de dados, volumes de boot, armazenamento persistente para EC2. |
| **S3 (Object)** | Armazenamento de objetos. Acesso via API.                            | Backup, data lakes, mÃ­dia, arquivos estÃ¡ticos.                        |
| **EFS (File)**  | Armazenamento de arquivos. **Acesso simultÃ¢neo** via NFS.            | Ambientes que precisam de acesso compartilhado e persistente.         |

---

### ğŸ” SeguranÃ§a e Controle

- IntegraÃ§Ã£o com **IAM** para controle de acesso.
- Suporte a **criptografia em trÃ¢nsito** e **em repouso**.
- IntegraÃ§Ã£o com **Security Groups**, **VPC** e polÃ­ticas de acesso baseadas em POSIX (permissÃµes de arquivos).

---

### ğŸ’° Custos

- Baseado no armazenamento usado (em GB/mÃªs).
- NÃ£o hÃ¡ cobranÃ§a por provisionamento prÃ©vio.
- Duas classes de armazenamento:
  - **Standard:** para workloads de alta disponibilidade.
  - **Infrequent Access (EFS-IA):** para dados acessados esporadicamente com custo menor.

---

### ğŸ”— ReferÃªncia

- **Fonte:** AWS, Gustavo Ribeiro

## ğŸŒ VPC â€“ Virtual Private Cloud (AWS)

### ğŸ” O que Ã©?

- ServiÃ§o que permite criar uma **rede virtual isolada na AWS**.
- VocÃª tem controle total sobre a configuraÃ§Ã£o da rede, incluindo endereÃ§amento IP, sub-redes, tabelas de roteamento, gateways, firewalls (Security Groups) e muito mais.

---

### ğŸ§  Conceitos principais

- **VPC:** Sua rede privada na AWS, isolada das redes de outros clientes.
- **Sub-redes:** Dividem sua VPC em blocos menores. Podem ser:
  - ğŸ”¹ **PÃºblicas:** Acesso direto Ã  internet via Internet Gateway.
  - ğŸ”¸ **Privadas:** Sem acesso direto Ã  internet. Usam NAT Gateway/Instance para saÃ­da.
- **CIDR:** Intervalo de endereÃ§os IP da VPC. Ex.: `10.0.0.0/16`.
- **RegiÃ£o:** Cada VPC Ã© criada em uma regiÃ£o e pode utilizar mÃºltiplas zonas de disponibilidade (AZs) dentro dela.

---

### ğŸš€ Como funciona?

- Crie uma VPC definindo:
  - ğŸ”¹ Nome da VPC
  - ğŸ”¹ RegiÃ£o
  - ğŸ”¹ Bloco CIDR (ex.: `10.0.0.0/16`)
- Crie sub-redes dentro da VPC, especificando:
  - ğŸ”¸ Zona de disponibilidade
  - ğŸ”¸ Bloco CIDR (ex.: `10.0.1.0/24`)

---

### ğŸ—ï¸ Sub-redes e alta disponibilidade

- ğŸ›‘ Para alta disponibilidade:
  - Crie sub-redes em **mÃºltiplas AZs**.
  - Use balanceadores de carga para distribuir o trÃ¡fego.
- âœ… Se uma AZ falhar, sua aplicaÃ§Ã£o continua funcionando nas outras.

---

### ğŸŒ Acesso Ã  internet

- **Internet Gateway:** Permite que sub-redes pÃºblicas se comuniquem com a internet.
- **NAT Gateway/Instance:** Permite que sub-redes privadas acessem a internet **somente para saÃ­da**, mantendo-se inacessÃ­veis da internet externa.

---

### ğŸ”‘ IP ElÃ¡stico (Elastic IP)

- ğŸ“Œ IP pÃºblico fixo.
- âœ… Pode ser movido entre instÃ¢ncias para garantir disponibilidade.
- âš ï¸ Custo adicional se nÃ£o estiver associado a uma instÃ¢ncia em execuÃ§Ã£o.

---

### ğŸ”¥ EndereÃ§os IP reservados pela AWS

| EndereÃ§o IP | Uso                    |
| ----------- | ---------------------- |
| `.0`        | EndereÃ§o de rede       |
| `.1`        | Roteador da VPC        |
| `.2`        | Servidor DNS           |
| `.3`        | Reservado (uso futuro) |
| `.255`      | Broadcast da sub-rede  |

- â• Esses 5 IPs sÃ£o reservados em **todas as sub-redes**.

---

### ğŸ—ï¸ Boas prÃ¡ticas na criaÃ§Ã£o da VPC

- ğŸŒŸ Usar intervalo de IP `/16` para a VPC (ex.: `10.0.0.0/16`).
- ğŸ”¸ Sub-redes com `/24` (ex.: `10.0.1.0/24`), permitindo atÃ© 251 IPs utilizÃ¡veis por sub-rede.
- ğŸ”’ Usar Security Groups e NACLs para controlar o trÃ¡fego de rede.
- ğŸ“ˆ Distribuir recursos em mÃºltiplas AZs para garantir alta disponibilidade.

---

### ğŸ’¡ Resumo visual

```
VPC â†’ Sub-redes (AZ1, AZ2, AZ3) â†’ InstÃ¢ncias EC2, Databases, etc.
 â†³ Sub-rede pÃºblica â†’ Internet Gateway
 â†³ Sub-rede privada â†’ NAT Gateway â†’ Internet (somente saÃ­da)
```

---

### ğŸ”— ReferÃªncia

- **Fonte:** AWS, Gustavo Ribeiro

## ğŸŒ Gateway de Internet e Gateway NAT â€“ AWS

---

### ğŸšª Gateway de Internet (Internet Gateway â€“ IGW)

- ğŸ”— Ã‰ um componente que permite que sua VPC tenha **acesso Ã  internet**.
- Funciona como um **"modem da VPC"**, conectando-a Ã  internet pÃºblica.
- âœ… **Alta disponibilidade e escalabilidade**, funcionando automaticamente em todas as zonas de disponibilidade (AZs) da regiÃ£o.
- ğŸ”§ Para funcionar, deve ser **anexado Ã  VPC**.

#### âš™ï¸ Passos para configuraÃ§Ã£o:

1. Criar o Internet Gateway (IGW).
2. Anexar o IGW Ã  VPC.
3. Configurar a **Route Table** da sub-rede pÃºblica com uma rota para o IGW (`0.0.0.0/0` â†’ IGW).

#### ğŸ”¥ ObservaÃ§Ã£o:

- Apenas sub-redes com rota para o IGW sÃ£o consideradas **sub-redes pÃºblicas**.

---

### ğŸ”„ Gateway NAT (Network Address Translation)

- ğŸ” Permite que instÃ¢ncias em sub-redes privadas **acessem a internet**, **sem serem acessÃ­veis da internet**.
- ğŸŸ¦ Faz a traduÃ§Ã£o do IP privado da instÃ¢ncia para o seu prÃ³prio IP pÃºblico (quando Ã© um NAT pÃºblico).
- ğŸ”„ Para trÃ¡fego de saÃ­da **somente**, nÃ£o aceita conexÃµes de entrada originadas da internet.

#### ğŸ”— Tipos de Gateway NAT:

- **NAT Gateway PÃºblico**
  - Precisa de um **IP elÃ¡stico (EIP)**.
  - Fica em uma sub-rede pÃºblica.
  - Permite saÃ­da para a internet de instÃ¢ncias em sub-redes privadas.
- **NAT Gateway Privado**
  - Permite comunicaÃ§Ã£o privada entre VPCs ou redes on-premise quando hÃ¡ sobreposiÃ§Ã£o de IPs.

---

### ğŸ› ï¸ Casos de uso principais:

| CenÃ¡rio                                                           | SoluÃ§Ã£o                 |
| ----------------------------------------------------------------- | ----------------------- |
| ğŸš€ InstÃ¢ncias privadas precisam acessar a internet (ex.: updates) | **NAT Gateway PÃºblico** |
| ğŸ” Impedir que a internet acesse suas instÃ¢ncias privadas         | **NAT Gateway PÃºblico** |
| ğŸ”„ ComunicaÃ§Ã£o entre redes com blocos de IP sobrepostos           | **NAT Gateway Privado** |
| ğŸ¯ Controle de saÃ­da por meio de IP fixo (EIP)                    | **NAT Gateway PÃºblico** |

---

### ğŸ”— Funcionamento resumido

```
Internet Gateway â†’ Acesso total (entrada e saÃ­da) para sub-redes pÃºblicas.

NAT Gateway â†’ Acesso de saÃ­da para sub-redes privadas,
sem permitir acesso de entrada.
```

---

### ğŸ’¡ Diagrama simplificado

```
Internet â†” IGW â†” Sub-rede PÃºblica â†” NAT Gateway â†” Sub-rede Privada â†” EC2
```

---

### âš ï¸ Boas prÃ¡ticas:

- ğŸ›‘ O NAT Gateway **sempre deve estar em uma sub-rede pÃºblica**.
- ğŸš¦ As sub-redes privadas precisam ter uma **Route Table** com rota (`0.0.0.0/0`) apontando para o NAT Gateway.
- ğŸ’° O NAT Gateway Ã© cobrado por hora de uso e por GB de dados processados.

---

### ğŸ”— ReferÃªncia:

- AWS â€“ DocumentaÃ§Ã£o oficial.

## ğŸ—ºï¸ Tabelas de Rota e VPC PadrÃ£o â€“ AWS

---

### ğŸš¦ Tabelas de Rota (Route Tables)

- ğŸ”§ SÃ£o responsÃ¡veis por definir **para onde vai o trÃ¡fego de rede** dentro da sua VPC.
- Toda VPC possui uma **tabela de rota principal**, que permite, por padrÃ£o, o trÃ¡fego entre todas as sub-redes da mesma VPC (roteamento interno).

#### ğŸ“œ Componentes principais:

- **Destination (Destino)** â†’ Faixa de IP para a qual o trÃ¡fego Ã© roteado.
- **Target (Alvo)** â†’ O caminho (gateway, interface de rede, internet gateway, NAT, etc.) pelo qual o trÃ¡fego deve ser enviado.

#### ğŸ”¥ Exemplo prÃ¡tico:

| Destination | Target    | DescriÃ§Ã£o                                          |
| ----------- | --------- | -------------------------------------------------- |
| 10.0.0.0/16 | local     | TrÃ¡fego interno da VPC                             |
| 0.0.0.0/0   | igw-xxxxx | TrÃ¡fego de saÃ­da para a internet (via IGW)         |
| 0.0.0.0/0   | nat-xxxxx | TrÃ¡fego de saÃ­da via NAT (para sub-redes privadas) |

#### ğŸ”— Funcionamento:

- Sub-redes **pÃºblicas** â†’ Tabela com rota `0.0.0.0/0` â†’ **Internet Gateway (IGW)**.
- Sub-redes **privadas** â†’ Tabela com rota `0.0.0.0/0` â†’ **NAT Gateway/Instance**.

#### âš™ï¸ Boas prÃ¡ticas:

- ğŸ”’ Usar tabelas de rotas separadas para sub-redes pÃºblicas e privadas.
- âœ”ï¸ Sempre verificar se a tabela tem a rota correta para o NAT ou IGW, dependendo da funÃ§Ã£o da sub-rede.

---

### ğŸŒ VPC PadrÃ£o (Default VPC)

- âœ… A AWS cria automaticamente uma **VPC padrÃ£o em cada regiÃ£o** quando vocÃª cria sua conta.

#### ğŸš€ CaracterÃ­sticas:

- Bloco CIDR: `172.31.0.0/16` â†’ atÃ© **65.536 IPs privados**.
- Cria **uma sub-rede pÃºblica em cada zona de disponibilidade (AZ)**.
- Inclui um **Internet Gateway (IGW)** prÃ©-conectado.
- ğŸ—ºï¸ **Tabela de rota padrÃ£o jÃ¡ configurada** com:
  - Rota interna â†’ `172.31.0.0/16 â†’ local`.
  - Rota para internet â†’ `0.0.0.0/0 â†’ IGW`.
- ğŸ” Grupo de seguranÃ§a padrÃ£o aplicado.
- ConfiguraÃ§Ãµes padrÃ£o de DHCP.

#### âš¡ï¸ UtilizaÃ§Ã£o:

- Ideal para comeÃ§ar rapidamente e lanÃ§ar recursos pÃºblicos como:
  - ğŸ–¥ï¸ Blogs.
  - ğŸŒ Sites simples.
  - ğŸŒ Ambientes de teste.

#### ğŸ”¥ Importante:

- A VPC padrÃ£o pode ser **modificada**, ou vocÃª pode optar por criar VPCs personalizadas com CIDRs, sub-redes, rotas e gateways sob medida para sua arquitetura.

---

### ğŸ—ï¸ EsquematizaÃ§Ã£o visual simplificada

```
VPC PadrÃ£o
â”œâ”€â”€ Sub-rede pÃºblica (AZ-a)
â”œâ”€â”€ Sub-rede pÃºblica (AZ-b)
â”œâ”€â”€ IGW (Internet Gateway)
â””â”€â”€ Route Table
    â”œâ”€â”€ 172.31.0.0/16 â†’ local
    â””â”€â”€ 0.0.0.0/0     â†’ IGW
```

---

### ğŸ”— ReferÃªncia:

- DocumentaÃ§Ã£o oficial da AWS â€“ Amazon VPC.

## ğŸŒ AplicaÃ§Ã£o Web EstÃ¡tica e Web DinÃ¢mica â€“ AWS

---

### ğŸš€ O que Ã© uma AplicaÃ§Ã£o Web?

- AplicaÃ§Ã£o que roda diretamente no navegador, sem instalaÃ§Ã£o local.
- Todo processamento ocorre nos servidores de hospedagem.
- O usuÃ¡rio interage remotamente.
- A AWS oferece diversas arquiteturas, dependendo dos requisitos.

---

## ğŸ—ï¸ Arquitetura para **Web EstÃ¡tica**

### âœ… ServiÃ§os principais:

- **Amazon S3** â†’ Armazenamento e hospedagem de site estÃ¡tico.
- Sem custos por hora de execuÃ§Ã£o.
- Simples de configurar e altamente escalÃ¡vel.

### ğŸ”¥ Passo a passo para hospedagem de site estÃ¡tico no Amazon S3:

1. ğŸ“¦ Criar um bucket no S3.

   - O nome do bucket deve ser igual ao domÃ­nio (ex.: `meusite.com`).

2. âš™ï¸ Habilitar o **Static Website Hosting**:

   - Ir em â†’ `Properties` â†’ Ativar `Static website hosting`.
   - Definir:
     - **Index document:** `index.html`
     - (Opcional) **Error document:** `error.html`

3. ğŸ”— Copiar a URL gerada (ex.: `http://meusite.s3-website-us-east-1.amazonaws.com`).

4. ğŸ” Configurar permissÃµes:

   - Desmarcar todos os bloqueios na seÃ§Ã£o â†’ `Permissions` â†’ **Block public access**.
   - Confirmar que deseja tornar o bucket pÃºblico.

5. ğŸ“ Adicionar uma **Bucket Policy**:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadGetObject",
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::nomedobucket/*"
    }
  ]
}
```

- Substituir `nomedobucket` pelo nome do seu bucket.

6. â¬†ï¸ Fazer upload dos arquivos do seu site (HTML, CSS, JS, imagens).

7. ğŸŒ Acessar o site pela URL fornecida no Static Website Hosting.

### ğŸ“‚ Exemplo prÃ¡tico de site estÃ¡tico:

- RepositÃ³rio GitHub â†’ [Cloud Academy Example](https://github.com/cloudacademy/static-website-example)
- Basta baixar e enviar os arquivos para seu bucket.

---

## ğŸ“œ ObservaÃ§Ãµes importantes:

- ğŸ·ï¸ O nome do bucket precisa ser exatamente igual ao domÃ­nio caso vÃ¡ utilizar DNS personalizado.
- ğŸ” AtenÃ§Ã£o Ã  exposiÃ§Ã£o dos dados: como Ã© um site pÃºblico, as permissÃµes sÃ£o abertas.

---

## âš™ï¸ Arquitetura para **Web DinÃ¢mica** (nÃ£o abordada profundamente aqui):

- Quando hÃ¡ necessidade de backend, banco de dados, APIs e processamento do lado do servidor.
- Exemplos de serviÃ§os:
  - **Amazon EC2** â†’ Servidores tradicionais.
  - **Elastic Beanstalk** â†’ Gerenciamento de aplicaÃ§Ã£o PaaS.
  - **AWS Lambda + API Gateway** â†’ AplicaÃ§Ãµes serverless.
  - **Amazon RDS** ou **DynamoDB** â†’ Banco de dados.

---

## âœ… ConclusÃ£o:

- ğŸ—ï¸ **Web EstÃ¡tica no S3** â†’ RÃ¡pido, barato e altamente escalÃ¡vel para sites simples, portfÃ³lios, landing pages, blogs estÃ¡ticos, etc.
- ğŸ”¥ **Web DinÃ¢mica** â†’ Usar EC2, Lambda, RDS, entre outros, conforme a complexidade e necessidade da aplicaÃ§Ã£o.

---

## ğŸ”— ReferÃªncia:

- DocumentaÃ§Ã£o oficial AWS â†’ [Amazon S3 Static Website Hosting](https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html)

## ğŸŒ AplicaÃ§Ã£o Web DinÃ¢mica na AWS â€“ Usando EC2

---

### ğŸš€ O que Ã© uma aplicaÃ§Ã£o web dinÃ¢mica?

- AplicaÃ§Ãµes que possuem conteÃºdo dinÃ¢mico, gerado em tempo real.
- Necessitam de processamento no servidor (ex.: PHP, Python, Node.js, Java, etc.).
- **NÃ£o podem ser hospedadas apenas no S3**, pois precisam de backend.

---

## ğŸ—ï¸ Arquitetura usando EC2 + AMI + Banco de Dados

### âœ… Componentes:

- **Amazon EC2** â†’ Servidor da aplicaÃ§Ã£o.
- **Amazon RDS** ou banco local â†’ Banco de dados (MySQL, PostgreSQL, etc.).
- **Amazon S3** â†’ Para backups ou arquivos estÃ¡ticos (opcional).

---

### ğŸ–¥ï¸ ğŸ—ï¸ Exemplo prÃ¡tico: Instalando Wordpress na AWS EC2

### ğŸ” Passo 1 â€“ Escolher a AMI

1. Acessar â†’ **"Application and OS Images (Marketplace)"**.
2. Pesquisar â†’ `wordpress`.
3. Escolher a AMI da **Bitnami by VMware** (fornecedor verificado pela AWS).
   - JÃ¡ vem com:
     - Apache
     - MySQL
     - PHP
     - Wordpress prÃ©-configurado

---

### âš™ï¸ Passo 2 â€“ ConfiguraÃ§Ã£o da instÃ¢ncia

- Tipo de instÃ¢ncia recomendado:

  - Para testes â†’ **t3.small**.
  - Para produÃ§Ã£o â†’ avaliar baseando-se em trÃ¡fego e processamento.

- ConfiguraÃ§Ãµes de rede:
  - Criar ou selecionar uma **VPC** e **sub-rede**.
  - Liberar no **Security Group**:
    - Porta **80 (HTTP)** â†’ acesso web.
    - Porta **443 (HTTPS)** â†’ acesso seguro.
    - Porta **22 (SSH)** â†’ acesso remoto (opcional, para manutenÃ§Ã£o).

---

### ğŸ” Passo 3 â€“ Chave SSH

- Criar ou usar um **Key Pair (par de chaves)**.
- A chave privada serÃ¡ usada para acesso via SSH, se necessÃ¡rio.

---

### ğŸŒ Passo 4 â€“ Acesso ao site

- Ao iniciar a instÃ¢ncia, copiar o **DNS pÃºblico** da mÃ¡quina EC2.
- Acessar pelo navegador:

```
http://<dns-publico>
```

- VocÃª verÃ¡ a pÃ¡gina de boas-vindas do Wordpress instalado.

---

### ğŸ”‘ Passo 5 â€“ Recuperar credenciais do admin Wordpress

1. No painel EC2 â†’ selecionar a instÃ¢ncia.
2. Ir em â†’ **Actions â†’ Monitor and troubleshoot â†’ Get system log**.
3. No log, procurar pelas credenciais, que aparecem no final:
   - **Username:** user
   - **Password:** (senha gerada automaticamente)

---

### ğŸ”— Passo 6 â€“ Login no painel administrativo

- Acessar:

```
http://<dns-publico>/wp-admin
```

- Inserir usuÃ¡rio e senha do log.
- VocÃª terÃ¡ acesso ao painel do Wordpress para:
  - Criar posts.
  - Gerenciar temas.
  - Plugins.
  - ConfiguraÃ§Ãµes gerais.

---

### ğŸ—ƒï¸ Backup e Arquivamento

- Ã‰ recomendado configurar backups:
  - **Snapshots de volumes EBS** (backup do servidor).
  - Backup dos bancos de dados no **Amazon RDS** (se utilizado).
  - **Amazon S3** para armazenamento de arquivos estÃ¡ticos, mÃ­dia e backups de dados.

---

## âœ… ConclusÃ£o

- SoluÃ§Ã£o flexÃ­vel e escalÃ¡vel.
- VocÃª controla:

  - Sistema operacional.
  - AtualizaÃ§Ãµes.
  - SeguranÃ§a da aplicaÃ§Ã£o e do servidor.

- Ideal para aplicaÃ§Ãµes PHP, Node.js, Python, Java, Ruby e outras linguagens.

---

## ğŸ”¥ Alternativas modernas na AWS

- **Elastic Beanstalk:** Gerenciamento de aplicaÃ§Ã£o PaaS (cuida da infraestrutura para vocÃª).
- **AWS Lambda + API Gateway:** Para aplicaÃ§Ãµes serverless.
- **ECS / EKS:** Para quem trabalha com containers e Kubernetes.

---

## ğŸ“‘ ReferÃªncias:

- DocumentaÃ§Ã£o oficial â†’ [AWS EC2](https://docs.aws.amazon.com/pt_br/ec2/)
- Marketplace da AWS â†’ AMIs com Wordpress e outros frameworks.
