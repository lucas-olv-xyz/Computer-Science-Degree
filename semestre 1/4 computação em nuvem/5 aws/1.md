## ☁️ Opções de Computação na AWS

### 🚀 Principais Modelos

A AWS oferece três opções principais de computação na nuvem, cada uma com características específicas:

---

### 🖥️ EC2 – Elastic Compute Cloud (Máquinas Virtuais)

- **Tipo:** Infraestrutura como Serviço (IaaS)
- **Descrição:** Instâncias de máquinas virtuais na nuvem, com controle total sobre sistema operacional, rede e armazenamento.
- **Quando usar:**
  - Aplicações monolíticas
  - Dependência forte de SO
  - Armazenamento local
  - Controle completo da infraestrutura
- **Escalabilidade:** Por meio de Auto Scaling Groups
- **SLA:** 99,99%
- **Tempo de execução:** Sem limite
- **Modelo de cobrança:** Tipo da instância, tempo de execução e opção de compra (On-demand, Reserved, Spot)

---

### 📦 ECS/EKS – Containers

- **Tipo:** Container como Serviço (CaaS)
- **Descrição:** Execução de containers Docker ou Kubernetes.
  - **ECS:** Elastic Container Service (gerenciado pela AWS)
  - **EKS:** Elastic Kubernetes Service (Kubernetes gerenciado)
- **Quando usar:**
  - Arquitetura baseada em microsserviços
  - Necessidade de portabilidade e agilidade
  - Uso de Docker ou Kubernetes
- **Escalabilidade:** Nativa, baseada nas métricas do cluster
- **SLA:** 99,99%
- **Tempo de execução:** Sem limite
- **Modelo de cobrança:**
  - **ECS no EC2:** Mesmo custo do EC2
  - **ECS no Fargate:** Por vCPU, memória usada e tempo de execução

---

### ⚡ Lambda – Serverless

- **Tipo:** Função como Serviço (FaaS)
- **Descrição:** Executa funções sem precisar provisionar servidores.
- **Quando usar:**
  - Aplicações pequenas ou baseadas em eventos
  - Processos rápidos (até 15 minutos)
  - Sem necessidade de armazenamento local
  - Times com foco em desenvolvimento, não em infraestrutura
- **Escalabilidade:** Totalmente automática
- **SLA:** 99,95%
- **Tempo de execução:** Máximo de 15 minutos (300 segundos)
- **Modelo de cobrança:**
  - Por número de requisições
  - Tempo de execução (vCPU + memória)

---

### 🔍 Comparativo Rápido

| Serviço | Tipo              | Caso de uso                                   | SLA    | Tempo Execução | Escalabilidade      | Preço                                 |
| ------- | ----------------- | --------------------------------------------- | ------ | -------------- | ------------------- | ------------------------------------- |
| EC2     | IaaS              | Controle total sobre servidor                 | 99.99% | Sem limite     | Auto Scaling Groups | Tipo, tempo e opção de compra         |
| ECS/EKS | CaaS (Containers) | Microsserviços e containers Docker/Kubernetes | 99.99% | Sem limite     | Nativa por cluster  | EC2 ou Fargate (CPU, memória, tempo)  |
| Lambda  | FaaS (Serverless) | Funções rápidas e sem infra gerenciada        | 99.95% | 15 min máx     | Automática          | Por execução e tempo (vCPU + memória) |

---

### 🎯 Como escolher?

- **EC2:**

  - Precisa de controle total sobre o servidor e ambiente.
  - Uso similar ao datacenter tradicional.

- **ECS/EKS:**

  - Times que trabalham com containers e microsserviços.
  - Querem portabilidade e gestão simplificada de ambientes.

- **Lambda:**
  - Foco total no código, sem preocupação com servidores.
  - Para automações, APIs pequenas, processamentos sob demanda.

---

### ✅ Resumo Visual

- **EC2:** Computação tradicional com máquinas virtuais (IaaS).
- **ECS/EKS:** Execução e orquestração de containers (CaaS).
- **Lambda:** Funções executadas sob demanda, sem servidor (FaaS).

---

### 🔗 Referência

- **Autor:** Gustavo Ribeiro

## ☁️ Computação na AWS - Amazon EC2

### 🚀 O que é Amazon EC2?

- Serviço que oferece capacidade computacional em formato de máquinas virtuais (instâncias).
- Totalmente escalável e sob demanda.
- Permite iniciar, utilizar e desligar servidores em minutos.
- Custo somente pelo tempo de uso, eliminando necessidade de infraestrutura física.

---

### 🏢 Comparativo On-premise x AWS EC2

| On-premise               | AWS EC2                          |
| ------------------------ | -------------------------------- |
| Comprar hardware         | Escolher configuração online     |
| Esperar entrega          | Instanciar na hora               |
| Montar no datacenter     | Configurar em poucos cliques     |
| Instalar SO manual       | Usar AMI pré-configurada         |
| Baixar e configurar apps | Pode vir com apps pré-instalados |

---

### 📦 Amazon Machine Image (AMI)

- Imagens prontas de sistema operacional e aplicativos.
- Fornecidas pela AWS, parceiros ou comunidade (Marketplace).
- Possuem um **ID único (AMI ID)** por região.
- Você pode:
  - **Usar uma AMI padrão**
  - **Criar sua própria AMI personalizada** (ex.: Ubuntu + Apache configurado).
- **Cuidado:** snapshots associados à AMI geram custos.

---

### 💡 Boas Práticas com AMIs

- Use AMIs da seção **"Quick Start"** para segurança e integridade.
- Crie AMIs próprias após configurar sua instância.
- Desligue a instância antes de gerar a AMI (evita inconsistências).

---

### 🖥️ Tipos de Instâncias EC2

- Definidos por:
  - Quantidade de vCPU
  - Memória RAM
  - Tipo de processador (Intel, AMD ou Graviton - ARM)
  - Rede e, às vezes, GPU
- **Nomenclatura:**
  - Ex.: `t4g.small` (T = tipo, 4g = geração Graviton, small = tamanho)
  - Ex.: `m5.large` (M = uso geral, 5 = geração, large = tamanho)

| Família   | Uso Ideal                         |
| --------- | --------------------------------- |
| **T**     | Uso geral, burstável, baixo custo |
| **M**     | Uso geral balanceado              |
| **C**     | Otimizado para computação (CPU)   |
| **R**     | Otimizado para memória            |
| **P/G**   | Processamento gráfico (GPU)       |
| **I/D/H** | Otimizado para armazenamento      |

---

### 🔐 Par de Chaves (Key Pair)

- Serve para acesso seguro (SSH em Linux, descriptografar senha no Windows).
- Consiste em:
  - **Chave pública:** fica na AWS.
  - **Chave privada:** fica com o usuário (⚠️ guarde com segurança).
- Sem a chave privada, não é possível acessar a instância.

---

### 🌐 Rede e Segurança (VPC + Security Group)

- **VPC:** Nuvem privada virtual.
- **Subnets:** Divisão da rede.
- **IP público:** Opcional. Para IP fixo, use **Elastic IP**.
- **Security Group:** Firewall que controla portas abertas (ex.: 22 para SSH, 80/443 para web).

---

### 💾 Disco (EBS)

- Tipos de disco:
  - **gp2/gp3:** SSD padrão.
  - **io1/io2:** SSD com IOPS provisionado (alta performance).
  - **st1:** HDD otimizado para throughput.
  - **sc1:** HDD para dados frios.
- Durante a criação:
  - Disco raiz (mínimo da AMI).
  - Pode adicionar volumes extras.

---

### 📝 Scripts de Boot (User Data)

- No painel **"Detalhes Avançados"**, você pode inserir scripts shell que rodam na inicialização da instância.
- Usado para:
  - Instalar software.
  - Configurar automaticamente.
  - Automatizar provisionamento.

```bash
#!/bin/bash
apt update
apt install -y apache2
systemctl start apache2
systemctl enable apache2
```

---

### ⚙️ Benefícios do Amazon EC2

- Flexibilidade total (SO, apps, rede).
- Paga apenas pelo que usar.
- Criação rápida (em minutos).
- Escalável, com suporte a auto scaling e balanceamento de carga.

---

### 📌 Resumo Visual do Provisionamento no EC2

1. Escolher AMI (SO + Apps)
2. Selecionar tipo de instância
3. Configurar VPC, subnet e IP
4. Criar/selecionar par de chaves
5. Configurar Security Group (firewall)
6. Definir armazenamento (EBS)
7. (Opcional) Inserir script de boot (user data)
8. Revisar e lançar a instância 🚀

---

### 🔗 Referência

- **Fonte:** AWS, Gustavo Ribeiro

## 💽 Block Storage – Amazon EBS (Elastic Block Store)

### 🔍 O que é?

- Serviço de **armazenamento em blocos** para instâncias EC2.
- Funciona como um **HD externo virtual**.
- Dados persistem mesmo após desligar ou excluir a instância.
- Pode ser **anexado, desanexado e reanexado** a qualquer EC2 na mesma zona de disponibilidade.

---

### 🔄 Funcionalidade Principal

- Volume de EBS = Disco virtual.
- Relacionamento normalmente **um volume ↔️ uma instância EC2**.
- 🚀 **Multi-Attach:** permite anexar o mesmo volume a múltiplas instâncias EC2 (mesma zona) — ⚠️ _limitado a alguns tipos_.

---

### 💡 Analogia

> "Assim como um HD externo pode ser desconectado de um computador e conectado a outro, o EBS permite desconectar volumes de uma instância EC2 e conectar em outra (na mesma zona)."

---

### 🔐 Snapshots (Backups)

- **Backups incrementais**.
- Armazenados no **Amazon S3** (não precisa acessar diretamente o S3).
- Primeiro snapshot: cópia completa.
- Seguintes: apenas blocos alterados.

📝 **Exemplo:**  
Se um volume tem 10GB e você alterou 2GB → apenas os 2GB são armazenados no novo snapshot.

- Snapshots podem:
  - 📦 **Gerar novos volumes**, inclusive em outras zonas.
  - 🛠️ **Restaurar backups** rapidamente.

---

### 📦 Casos de Uso

- Disco raiz para **sistema operacional** (AMI com suporte EBS).
- **Armazenamento para bancos de dados** (MySQL, PostgreSQL, MongoDB, etc.).
- Aplicações empresariais críticas com leitura/gravação intensa.
- Workloads que demandam **baixa latência e alta durabilidade**.

---

## 🔧 Tipos de Volumes EBS

| Tipo        | Descrição                     | Casos de Uso                                | Tamanho      | IOPS Máx  | Throughput Máx    |
| ----------- | ----------------------------- | ------------------------------------------- | ------------ | --------- | ----------------- |
| **io1/io2** | SSD de alta performance       | Bancos SQL/NoSQL, apps sensíveis à latência | 4GB – 16TB   | 🔥 64.000 | 🚀 1.000 MB/s     |
| **gp2/gp3** | SSD uso geral                 | Volumes de boot, apps web, dev/teste        | 1GB – 16TB   | 🟦 16.000 | 🔷 250 MB/s (gp2) |
| **st1**     | HDD otimizado para throughput | Big Data, Data Lakes, logs                  | 500GB – 16TB | ⚪ 500    | 📈 500 MB/s       |
| **sc1**     | HDD de baixo custo            | Arquivos frios, backups, pouco acesso       | 500GB – 16TB | ⚫ 250    | 📉 250 MB/s       |

---

### ⚙️ Escolha Ideal

- 🔥 **io1/io2:** Apps críticos, bancos transacionais, altíssima performance.
- 🟨 **gp3 (melhor que gp2):** Equilíbrio custo/performance, recomendação padrão.
- 🟦 **st1:** Processamento de logs, análises grandes, data lakes.
- ⚫ **sc1:** Dados raramente acessados, arquivos arquivados.

---

### 📌 Observações Importantes

- Snapshots são cobrados pelo tamanho utilizado.
- É possível criar volumes em outras zonas a partir de snapshots.
- **Cuidado com escolha da zona de disponibilidade**, volume EBS é restrito a uma zona.

---

### 🚀 Fluxo Simplificado de Uso do EBS

1. 📦 Criar volume EBS (definir tipo, tamanho, AZ).
2. 🔗 Anexar à instância EC2.
3. ⚙️ Inicializar, formatar e montar no sistema operacional.
4. 🔄 Usar como disco normal.
5. 🏗️ Fazer backup via snapshots sempre que necessário.
6. 🔌 Desanexar e reanexar quando quiser (na mesma AZ).

---

### 🔗 Referência

- **Fonte:** AWS, Gustavo Ribeiro

## 🗂️ File Storage – Amazon EFS

### 🔍 O que é?

- Serviço de **armazenamento de arquivos** na AWS.
- Permite que **vários clientes/acessos simultâneos** (usuários, aplicativos, servidores) leiam e escrevam nos mesmos dados.
- Sistema de arquivos **totalmente gerenciado, elástico e escalável**.

---

### 🔗 Características principais

- 🔸 Escala automática de armazenamento: **cresce ou diminui** conforme necessidade (até petabytes).
- 🔸 Compatível com **NFS (Network File System)**.
- 🔸 Permite acesso simultâneo de **centenas ou milhares de instâncias EC2** e também de recursos locais via AWS Direct Connect ou VPN.
- 🔸 Baixa latência e alta disponibilidade.
- 🔸 Armazenamento distribuído, redundante e altamente durável.

---

### 🏗️ Arquitetura

- Funciona como um **servidor de arquivos na nuvem**.
- Organiza os dados em **diretórios e arquivos**, com caminho hierárquico.
- Usa internamente armazenamento em bloco, mas exposto para os clientes como sistema de arquivos.

---

### 💡 Casos de uso

- 🚀 Aplicações que precisam de compartilhamento de arquivos:
  - Sites e aplicações web.
  - Sistemas de gerenciamento de conteúdo.
  - Diretórios de usuários.
  - Workloads de machine learning e análise de dados.
  - Ambientes de desenvolvimento e teste.
  - Migração de aplicações legadas para a nuvem.

---

### 📈 Vantagens do Amazon EFS

- ✅ Escalabilidade automática (aumenta ou diminui sem intervenção).
- ✅ Alta disponibilidade e durabilidade.
- ✅ Compartilhamento de dados entre várias instâncias e até ambientes locais.
- ✅ Totalmente gerenciado (não precisa configurar servidores de arquivos).
- ✅ Integração com serviços AWS como EC2, Lambda e EKS.

---

### 🔥 Comparação com outros tipos de armazenamento

| Tipo            | Descrição                                                            | Casos de uso                                                          |
| --------------- | -------------------------------------------------------------------- | --------------------------------------------------------------------- |
| **EBS (Block)** | Armazenamento em blocos. Atachado a **uma única instância** por vez. | Bancos de dados, volumes de boot, armazenamento persistente para EC2. |
| **S3 (Object)** | Armazenamento de objetos. Acesso via API.                            | Backup, data lakes, mídia, arquivos estáticos.                        |
| **EFS (File)**  | Armazenamento de arquivos. **Acesso simultâneo** via NFS.            | Ambientes que precisam de acesso compartilhado e persistente.         |

---

### 🔐 Segurança e Controle

- Integração com **IAM** para controle de acesso.
- Suporte a **criptografia em trânsito** e **em repouso**.
- Integração com **Security Groups**, **VPC** e políticas de acesso baseadas em POSIX (permissões de arquivos).

---

### 💰 Custos

- Baseado no armazenamento usado (em GB/mês).
- Não há cobrança por provisionamento prévio.
- Duas classes de armazenamento:
  - **Standard:** para workloads de alta disponibilidade.
  - **Infrequent Access (EFS-IA):** para dados acessados esporadicamente com custo menor.

---

### 🔗 Referência

- **Fonte:** AWS, Gustavo Ribeiro

## 🌐 VPC – Virtual Private Cloud (AWS)

### 🔍 O que é?

- Serviço que permite criar uma **rede virtual isolada na AWS**.
- Você tem controle total sobre a configuração da rede, incluindo endereçamento IP, sub-redes, tabelas de roteamento, gateways, firewalls (Security Groups) e muito mais.

---

### 🧠 Conceitos principais

- **VPC:** Sua rede privada na AWS, isolada das redes de outros clientes.
- **Sub-redes:** Dividem sua VPC em blocos menores. Podem ser:
  - 🔹 **Públicas:** Acesso direto à internet via Internet Gateway.
  - 🔸 **Privadas:** Sem acesso direto à internet. Usam NAT Gateway/Instance para saída.
- **CIDR:** Intervalo de endereços IP da VPC. Ex.: `10.0.0.0/16`.
- **Região:** Cada VPC é criada em uma região e pode utilizar múltiplas zonas de disponibilidade (AZs) dentro dela.

---

### 🚀 Como funciona?

- Crie uma VPC definindo:
  - 🔹 Nome da VPC
  - 🔹 Região
  - 🔹 Bloco CIDR (ex.: `10.0.0.0/16`)
- Crie sub-redes dentro da VPC, especificando:
  - 🔸 Zona de disponibilidade
  - 🔸 Bloco CIDR (ex.: `10.0.1.0/24`)

---

### 🏗️ Sub-redes e alta disponibilidade

- 🛑 Para alta disponibilidade:
  - Crie sub-redes em **múltiplas AZs**.
  - Use balanceadores de carga para distribuir o tráfego.
- ✅ Se uma AZ falhar, sua aplicação continua funcionando nas outras.

---

### 🌐 Acesso à internet

- **Internet Gateway:** Permite que sub-redes públicas se comuniquem com a internet.
- **NAT Gateway/Instance:** Permite que sub-redes privadas acessem a internet **somente para saída**, mantendo-se inacessíveis da internet externa.

---

### 🔑 IP Elástico (Elastic IP)

- 📌 IP público fixo.
- ✅ Pode ser movido entre instâncias para garantir disponibilidade.
- ⚠️ Custo adicional se não estiver associado a uma instância em execução.

---

### 🔥 Endereços IP reservados pela AWS

| Endereço IP | Uso                    |
| ----------- | ---------------------- |
| `.0`        | Endereço de rede       |
| `.1`        | Roteador da VPC        |
| `.2`        | Servidor DNS           |
| `.3`        | Reservado (uso futuro) |
| `.255`      | Broadcast da sub-rede  |

- ➕ Esses 5 IPs são reservados em **todas as sub-redes**.

---

### 🏗️ Boas práticas na criação da VPC

- 🌟 Usar intervalo de IP `/16` para a VPC (ex.: `10.0.0.0/16`).
- 🔸 Sub-redes com `/24` (ex.: `10.0.1.0/24`), permitindo até 251 IPs utilizáveis por sub-rede.
- 🔒 Usar Security Groups e NACLs para controlar o tráfego de rede.
- 📈 Distribuir recursos em múltiplas AZs para garantir alta disponibilidade.

---

### 💡 Resumo visual

```
VPC → Sub-redes (AZ1, AZ2, AZ3) → Instâncias EC2, Databases, etc.
 ↳ Sub-rede pública → Internet Gateway
 ↳ Sub-rede privada → NAT Gateway → Internet (somente saída)
```

---

### 🔗 Referência

- **Fonte:** AWS, Gustavo Ribeiro

## 🌐 Gateway de Internet e Gateway NAT – AWS

---

### 🚪 Gateway de Internet (Internet Gateway – IGW)

- 🔗 É um componente que permite que sua VPC tenha **acesso à internet**.
- Funciona como um **"modem da VPC"**, conectando-a à internet pública.
- ✅ **Alta disponibilidade e escalabilidade**, funcionando automaticamente em todas as zonas de disponibilidade (AZs) da região.
- 🔧 Para funcionar, deve ser **anexado à VPC**.

#### ⚙️ Passos para configuração:

1. Criar o Internet Gateway (IGW).
2. Anexar o IGW à VPC.
3. Configurar a **Route Table** da sub-rede pública com uma rota para o IGW (`0.0.0.0/0` → IGW).

#### 🔥 Observação:

- Apenas sub-redes com rota para o IGW são consideradas **sub-redes públicas**.

---

### 🔄 Gateway NAT (Network Address Translation)

- 🔐 Permite que instâncias em sub-redes privadas **acessem a internet**, **sem serem acessíveis da internet**.
- 🟦 Faz a tradução do IP privado da instância para o seu próprio IP público (quando é um NAT público).
- 🔄 Para tráfego de saída **somente**, não aceita conexões de entrada originadas da internet.

#### 🔗 Tipos de Gateway NAT:

- **NAT Gateway Público**
  - Precisa de um **IP elástico (EIP)**.
  - Fica em uma sub-rede pública.
  - Permite saída para a internet de instâncias em sub-redes privadas.
- **NAT Gateway Privado**
  - Permite comunicação privada entre VPCs ou redes on-premise quando há sobreposição de IPs.

---

### 🛠️ Casos de uso principais:

| Cenário                                                           | Solução                 |
| ----------------------------------------------------------------- | ----------------------- |
| 🚀 Instâncias privadas precisam acessar a internet (ex.: updates) | **NAT Gateway Público** |
| 🔐 Impedir que a internet acesse suas instâncias privadas         | **NAT Gateway Público** |
| 🔄 Comunicação entre redes com blocos de IP sobrepostos           | **NAT Gateway Privado** |
| 🎯 Controle de saída por meio de IP fixo (EIP)                    | **NAT Gateway Público** |

---

### 🔗 Funcionamento resumido

```
Internet Gateway → Acesso total (entrada e saída) para sub-redes públicas.

NAT Gateway → Acesso de saída para sub-redes privadas,
sem permitir acesso de entrada.
```

---

### 💡 Diagrama simplificado

```
Internet ↔ IGW ↔ Sub-rede Pública ↔ NAT Gateway ↔ Sub-rede Privada ↔ EC2
```

---

### ⚠️ Boas práticas:

- 🛑 O NAT Gateway **sempre deve estar em uma sub-rede pública**.
- 🚦 As sub-redes privadas precisam ter uma **Route Table** com rota (`0.0.0.0/0`) apontando para o NAT Gateway.
- 💰 O NAT Gateway é cobrado por hora de uso e por GB de dados processados.

---

### 🔗 Referência:

- AWS – Documentação oficial.

## 🗺️ Tabelas de Rota e VPC Padrão – AWS

---

### 🚦 Tabelas de Rota (Route Tables)

- 🔧 São responsáveis por definir **para onde vai o tráfego de rede** dentro da sua VPC.
- Toda VPC possui uma **tabela de rota principal**, que permite, por padrão, o tráfego entre todas as sub-redes da mesma VPC (roteamento interno).

#### 📜 Componentes principais:

- **Destination (Destino)** → Faixa de IP para a qual o tráfego é roteado.
- **Target (Alvo)** → O caminho (gateway, interface de rede, internet gateway, NAT, etc.) pelo qual o tráfego deve ser enviado.

#### 🔥 Exemplo prático:

| Destination | Target    | Descrição                                          |
| ----------- | --------- | -------------------------------------------------- |
| 10.0.0.0/16 | local     | Tráfego interno da VPC                             |
| 0.0.0.0/0   | igw-xxxxx | Tráfego de saída para a internet (via IGW)         |
| 0.0.0.0/0   | nat-xxxxx | Tráfego de saída via NAT (para sub-redes privadas) |

#### 🔗 Funcionamento:

- Sub-redes **públicas** → Tabela com rota `0.0.0.0/0` → **Internet Gateway (IGW)**.
- Sub-redes **privadas** → Tabela com rota `0.0.0.0/0` → **NAT Gateway/Instance**.

#### ⚙️ Boas práticas:

- 🔒 Usar tabelas de rotas separadas para sub-redes públicas e privadas.
- ✔️ Sempre verificar se a tabela tem a rota correta para o NAT ou IGW, dependendo da função da sub-rede.

---

### 🌐 VPC Padrão (Default VPC)

- ✅ A AWS cria automaticamente uma **VPC padrão em cada região** quando você cria sua conta.

#### 🚀 Características:

- Bloco CIDR: `172.31.0.0/16` → até **65.536 IPs privados**.
- Cria **uma sub-rede pública em cada zona de disponibilidade (AZ)**.
- Inclui um **Internet Gateway (IGW)** pré-conectado.
- 🗺️ **Tabela de rota padrão já configurada** com:
  - Rota interna → `172.31.0.0/16 → local`.
  - Rota para internet → `0.0.0.0/0 → IGW`.
- 🔐 Grupo de segurança padrão aplicado.
- Configurações padrão de DHCP.

#### ⚡️ Utilização:

- Ideal para começar rapidamente e lançar recursos públicos como:
  - 🖥️ Blogs.
  - 🌐 Sites simples.
  - 🌍 Ambientes de teste.

#### 🔥 Importante:

- A VPC padrão pode ser **modificada**, ou você pode optar por criar VPCs personalizadas com CIDRs, sub-redes, rotas e gateways sob medida para sua arquitetura.

---

### 🏗️ Esquematização visual simplificada

```
VPC Padrão
├── Sub-rede pública (AZ-a)
├── Sub-rede pública (AZ-b)
├── IGW (Internet Gateway)
└── Route Table
    ├── 172.31.0.0/16 → local
    └── 0.0.0.0/0     → IGW
```

---

### 🔗 Referência:

- Documentação oficial da AWS – Amazon VPC.

## 🌐 Aplicação Web Estática e Web Dinâmica – AWS

---

### 🚀 O que é uma Aplicação Web?

- Aplicação que roda diretamente no navegador, sem instalação local.
- Todo processamento ocorre nos servidores de hospedagem.
- O usuário interage remotamente.
- A AWS oferece diversas arquiteturas, dependendo dos requisitos.

---

## 🏗️ Arquitetura para **Web Estática**

### ✅ Serviços principais:

- **Amazon S3** → Armazenamento e hospedagem de site estático.
- Sem custos por hora de execução.
- Simples de configurar e altamente escalável.

### 🔥 Passo a passo para hospedagem de site estático no Amazon S3:

1. 📦 Criar um bucket no S3.

   - O nome do bucket deve ser igual ao domínio (ex.: `meusite.com`).

2. ⚙️ Habilitar o **Static Website Hosting**:

   - Ir em → `Properties` → Ativar `Static website hosting`.
   - Definir:
     - **Index document:** `index.html`
     - (Opcional) **Error document:** `error.html`

3. 🔗 Copiar a URL gerada (ex.: `http://meusite.s3-website-us-east-1.amazonaws.com`).

4. 🔐 Configurar permissões:

   - Desmarcar todos os bloqueios na seção → `Permissions` → **Block public access**.
   - Confirmar que deseja tornar o bucket público.

5. 📝 Adicionar uma **Bucket Policy**:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "PublicReadGetObject",
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::nomedobucket/*"
    }
  ]
}
```

- Substituir `nomedobucket` pelo nome do seu bucket.

6. ⬆️ Fazer upload dos arquivos do seu site (HTML, CSS, JS, imagens).

7. 🌍 Acessar o site pela URL fornecida no Static Website Hosting.

### 📂 Exemplo prático de site estático:

- Repositório GitHub → [Cloud Academy Example](https://github.com/cloudacademy/static-website-example)
- Basta baixar e enviar os arquivos para seu bucket.

---

## 📜 Observações importantes:

- 🏷️ O nome do bucket precisa ser exatamente igual ao domínio caso vá utilizar DNS personalizado.
- 🔐 Atenção à exposição dos dados: como é um site público, as permissões são abertas.

---

## ⚙️ Arquitetura para **Web Dinâmica** (não abordada profundamente aqui):

- Quando há necessidade de backend, banco de dados, APIs e processamento do lado do servidor.
- Exemplos de serviços:
  - **Amazon EC2** → Servidores tradicionais.
  - **Elastic Beanstalk** → Gerenciamento de aplicação PaaS.
  - **AWS Lambda + API Gateway** → Aplicações serverless.
  - **Amazon RDS** ou **DynamoDB** → Banco de dados.

---

## ✅ Conclusão:

- 🏗️ **Web Estática no S3** → Rápido, barato e altamente escalável para sites simples, portfólios, landing pages, blogs estáticos, etc.
- 🔥 **Web Dinâmica** → Usar EC2, Lambda, RDS, entre outros, conforme a complexidade e necessidade da aplicação.

---

## 🔗 Referência:

- Documentação oficial AWS → [Amazon S3 Static Website Hosting](https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html)

## 🌐 Aplicação Web Dinâmica na AWS – Usando EC2

---

### 🚀 O que é uma aplicação web dinâmica?

- Aplicações que possuem conteúdo dinâmico, gerado em tempo real.
- Necessitam de processamento no servidor (ex.: PHP, Python, Node.js, Java, etc.).
- **Não podem ser hospedadas apenas no S3**, pois precisam de backend.

---

## 🏗️ Arquitetura usando EC2 + AMI + Banco de Dados

### ✅ Componentes:

- **Amazon EC2** → Servidor da aplicação.
- **Amazon RDS** ou banco local → Banco de dados (MySQL, PostgreSQL, etc.).
- **Amazon S3** → Para backups ou arquivos estáticos (opcional).

---

### 🖥️ 🏗️ Exemplo prático: Instalando Wordpress na AWS EC2

### 🔍 Passo 1 – Escolher a AMI

1. Acessar → **"Application and OS Images (Marketplace)"**.
2. Pesquisar → `wordpress`.
3. Escolher a AMI da **Bitnami by VMware** (fornecedor verificado pela AWS).
   - Já vem com:
     - Apache
     - MySQL
     - PHP
     - Wordpress pré-configurado

---

### ⚙️ Passo 2 – Configuração da instância

- Tipo de instância recomendado:

  - Para testes → **t3.small**.
  - Para produção → avaliar baseando-se em tráfego e processamento.

- Configurações de rede:
  - Criar ou selecionar uma **VPC** e **sub-rede**.
  - Liberar no **Security Group**:
    - Porta **80 (HTTP)** → acesso web.
    - Porta **443 (HTTPS)** → acesso seguro.
    - Porta **22 (SSH)** → acesso remoto (opcional, para manutenção).

---

### 🔐 Passo 3 – Chave SSH

- Criar ou usar um **Key Pair (par de chaves)**.
- A chave privada será usada para acesso via SSH, se necessário.

---

### 🌐 Passo 4 – Acesso ao site

- Ao iniciar a instância, copiar o **DNS público** da máquina EC2.
- Acessar pelo navegador:

```
http://<dns-publico>
```

- Você verá a página de boas-vindas do Wordpress instalado.

---

### 🔑 Passo 5 – Recuperar credenciais do admin Wordpress

1. No painel EC2 → selecionar a instância.
2. Ir em → **Actions → Monitor and troubleshoot → Get system log**.
3. No log, procurar pelas credenciais, que aparecem no final:
   - **Username:** user
   - **Password:** (senha gerada automaticamente)

---

### 🔗 Passo 6 – Login no painel administrativo

- Acessar:

```
http://<dns-publico>/wp-admin
```

- Inserir usuário e senha do log.
- Você terá acesso ao painel do Wordpress para:
  - Criar posts.
  - Gerenciar temas.
  - Plugins.
  - Configurações gerais.

---

### 🗃️ Backup e Arquivamento

- É recomendado configurar backups:
  - **Snapshots de volumes EBS** (backup do servidor).
  - Backup dos bancos de dados no **Amazon RDS** (se utilizado).
  - **Amazon S3** para armazenamento de arquivos estáticos, mídia e backups de dados.

---

## ✅ Conclusão

- Solução flexível e escalável.
- Você controla:

  - Sistema operacional.
  - Atualizações.
  - Segurança da aplicação e do servidor.

- Ideal para aplicações PHP, Node.js, Python, Java, Ruby e outras linguagens.

---

## 🔥 Alternativas modernas na AWS

- **Elastic Beanstalk:** Gerenciamento de aplicação PaaS (cuida da infraestrutura para você).
- **AWS Lambda + API Gateway:** Para aplicações serverless.
- **ECS / EKS:** Para quem trabalha com containers e Kubernetes.

---

## 📑 Referências:

- Documentação oficial → [AWS EC2](https://docs.aws.amazon.com/pt_br/ec2/)
- Marketplace da AWS → AMIs com Wordpress e outros frameworks.
